#:import OneLineAvatarIconListItem kivymd.uix.list
#:import hex kivy.utils.get_color_from_hex

<BooksScreen>:
    name: 'books'
    BoxLayout:
        spacing: 6
        size_hint:1,1
        canvas:
            Color:
                rgba: hex(app.bg_screens_color)
            Rectangle:
                pos: self.pos
                size: self.size
        orientation: "vertical"


        BoxLayout:
            size_hint_y: 0.08
            size_hint_x: 0.96
            pos_hint: {"top": 1,'center_x':0.5}
            canvas:
                Color:
                    rgba: hex(app.bg_screens_color)
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                canvas:
                    Color:
                        rgba: hex(app.bg_screens_whitly_color)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                id: toolbar

                pos_hint: {'center_x':0.5,'center_y':0.5}
                size_hint_x: 0.95
                size_hint_y: 0.9

                BoxLayout:
                    pos_hint: {"bottom": 1}
                    size_hint_y: 0.9
                    size_hint_x: 0.96

                    MDIconButton:
                        text_color: hex(app.icon_but_colors)
                        theme_text_color:"Custom"
                        id: Settings
                        icon: "cog-outline"
                        user_font_size: app.icon_button_top_menu_size

                        pos_hint: {"left":1, 'center_x': 0.9,'center_y': 0.5}

                    MDLabel:
                        theme_text_color: "Custom"
                        text_color: hex(app.label_text_colors)
                        id: Random_word
                        size_hint: 0.6, 1
                        text: "This is a BooksScreen"
                        font_style: "H5"

                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}


                    MDIconButton:
                        text_color: hex(app.icon_but_colors)
                        theme_text_color:"Custom"
                        id: Localization
                        icon: "earth"

                        user_font_size: "32sp"
                        pos_hint: {"right":1, 'center_x': 0.9,'center_y': 0.5}


        BoxLayout:
            spacing: 10
            canvas:
                Color:
                    rgba: hex(app.bg_screens_whitly_color)
                Rectangle:
                    pos: self.pos
                    size: self.size
            id: books_list
            orientation: "vertical"
            size_hint_y: 0.84
            size_hint_x: 0.92
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            BoxLayout:
                id: top_partical
                pos_hint: {"top": 1}
                orientation: 'horizontal'
                size_hint_x: 1
                size_hint_y: 0.1

                MDIconButton:
                    text_color: hex(app.icon_but_colors)
                    theme_text_color:"Custom"
                    pos_hint: {"right": 1}
                    user_font_size: root.icon_filter_size
                    id: filters_menu
                    icon: "filter-menu"


                MDTextField:
                    id: search_field
                    hint_text: "Search book"
                    color_mode:"custom"
                    theme_text_color: "Custom"

                    line_color_focus: hex(app.text_file_colors_hint)
                    line_color_normal: hex(app.text_file_colors_hint)
                    text_color: hex(app.text_file_colors)
                    current_hint_text_color: hex(app.text_file_colors_hint)

                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    font_size: root.font_size_search_field
                    multiline: False


                    #on_text: root.set_list_md_icons(self.text, True)\

                MDIconButton:
                    text_color: hex(app.icon_but_colors)
                    theme_text_color:"Custom"
                    id: search
                    icon: 'magnify'
                    user_font_size: root.icon_search_size
                    pos_hint: {"left": 1}

            ScrollView:
                size_hint_x: 0.9
                size_hint_y: 0.82
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                MDList:
                    id: books_add_list



            BoxLayout:
                size_hint_x: 1
                size_hint_y: 0.08
                pos_hint: {"bottom": 1, 'left':1}
                id: add_button
                MDIconButton:
                    text_color: hex(app.icon_but_colors)
                    theme_text_color:"Custom"
                    id: add_book
                    user_font_size: root.icon_button_pluss_size
                    icon: "plus"
                    on_release: root.add_book_dialog()

        CustomBottomNavigation:
